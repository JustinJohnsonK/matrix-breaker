INitial prompt trying: generated by copilot: did not try
 ### Instruction:
You are a professional proofreader and writing assistant. Identify all grammatical errors, spelling mistakes, and awkward or unclear phrasing in the provided user input. For each issue, return an object in a strict JSON array with:
- "original": the exact erroneous phrase
- "suggested": the improved phrase
- "start": 0-based character start index of original (inclusive)
- "end": 0-based character end index of original (inclusive)
Guidelines:
- Do not change the meaning or tone of the sentence.
- Do not include commentary or explanation.
- Do not merge multiple issues into a single correction.
- Every object must only refer to ONE exact phrase that needs correction.
- Do not overlap the issues.
- Output ONLY the strict JSON array, nothing else.

### Input:
""" + user_text + """

### Response:
"""

New prompt following the guidlines: Chat Format : Told its not valid : but can reconsider

messages = [
    {
        "role": "system",
        "content": "You are a professional proofreader. Identify errors in a sentence and return only a JSON array of corrections. Format for each correction:\n{\n  \"original\": String,\n  \"suggested\": String,\n  \"start\": Integer,\n  \"end\": Integer\n}\nEach correction must fix exactly one issue. No comments, no explanations. JSON only."
    },
    {
        "role": "user",
        "content": "Sentence: She go to school everyday, He enjoy to play cricket."
    },
    {
        "role": "assistant",
        "content": """[
            { "original": "go", "suggested": "goes", "start": 4, "end": 6 },
            { "original": "everyday", "suggested": "every day", "start": 19, "end": 27 },
            { "original": "enjoy to play", "suggested": "enjoys playing", "start": 36, "end": 50 }
        ]"""
    },
    {
        "role": "user",
        "content": "Sentence: The quick question to all the readers. How are things goinf wuth you all?"
    }
]



Tryinh Instruction Format:
    prompt = """
        You are a professional proofreader. Identify the errors in the following sentence and return ONLY a JSON array of corrections.
        Each correction must fix only one issue. Do not include comments or explanations.
        Each correction must follow this format:
        {
        "original": original phrase that needs correction in string format,
        "suggested": your improved version of the original phrase in string format,
        "start": starting intex of the original text (0-based, inclusive) in integer format,
        "end": ending index of the original text (exclusive) in integer format
        }

        Example:
        <s>
        "[INST]She go to school everyday, He enjoy to play cricket.[/INST]"
        "[
        {
            "original": "go",
            "suggested": "goes",
            "start": 4,
            "end": 6
        },
        {
            "original": "everyday",
            "suggested": "every day",
            "start": 19,
            "end": 27
        },
        {
            "original": "enjoy to play",
            "suggested": "enjoys playing",
            "start": 36,
            "end": 50
        }
        ]"
        </s>

        """

    return prompt + f"""
        [INST]{user_text}[/INST]
        """


Problem:
Considering new lines as different Instruction all together. giving relative start and end to sentence start.

"original_text": "The quick question to all the readers. How are things goinf wuth you all?",
"suggestions": [
    {
        "end": 18,
        "original": "goinf",
        "start": 14,
        "suggested": "going"
    },
    {
        "end": 23,
        "original": "wuth",
        "start": 20,
        "suggested": "with"
    },
    {
        "end": 14,
        "original": "How are things ",
        "start": 0,
        "suggested": "How are things going"
    }
]

10/07/2025: Thursday
New prompt:
"""
    You are a professional proofreader. Identify the errors in the following sentence and return ONLY a JSON array of corrections.
    Each correction must fix only one issue and no overlapping of corrections. Do not include comments or explanations.
    Each correction must follow this format:
    {
    "original": original phrase that needs correction in string format,
    "suggested": your improved version of the original phrase in string format,
    "start": starting intex of the original text (0-based, inclusive) in integer format,
    "end": ending index of the original text (exclusive) in integer format
    }

    Example:
    <s>
    "[INST]She go to school everyday. He enjoy to play cricket.[/INST]"
    "[
        {
            "original": "go",
            "suggested": "goes",
            "start": 4,
            "end": 6
        },
        {
            "original": "everyday",
            "suggested": "every day",
            "start": 17,
            "end": 25
        },
        {
            "original": "enjoy to play",
            "suggested": "enjoys playing",
            "start": 30,
            "end": 42
        }
    ]
    "</s>

    [INST]{user_text}[/INST]
"""

cast away in s distant land, Munshi is in a very bad stage. His life is sick and lost his family as well

[
{
    "original": "cast away",
    "suggested": "castaway",
    "start": 0,
    "end": 8
},
{
    "original": "in",
    "suggested": "",
    "start": 9,
    "end": 12
},
{
    "original": "s distant land",
    "suggested": "on a distant land",
    "start": 13,
    "end": 30
},
{
    "original": "Munshi is in a very bad stage.",
    "suggested": "Munshi is in a very bad situation.",
    "start": 31,
    "end": 54
},
{
    "original": "His life is sick",
    "suggested": "He is ill.",
    "start": 55,
    "end": 68
},
{
    "original": "and lost his family as well",
    "suggested": ", and he has also lost his family.",
    "start": 70,
    "end": 91
}
]


10/07/2025 - Wednesday

"""
You are a professional proofreader.
Identify the errors in grammar, spelling, punctuation, formatting, and word choice in the following sentence and return ONLY a JSON array of correction objects.
Each correction object must fix only one issue and should not overlap with any other correction objects.
Do not include comments or explanations.
Each correction must follow this format:
{
"original": only the original phrase that needs correction in string format,
"suggested": only your improved part of the original phrase in string format,
"start": strict starting intex of the original text (0-based, inclusive) in integer format,
"end": strict ending index of the original text (exclusive) in integer format
}

Example:
<s>
"[INST]She go to school everyday. He enjoy to play cricket.[/INST]"
"[
    {
        "original": "go",
        "suggested": "goes",
        "start": 4,
        "end": 6
    },
    {
        "original": "everyday",
        "suggested": "every day",
        "start": 17,
        "end": 25
    },
    {
        "original": "enjoy to play",
        "suggested": "enjoys playing",
        "start": 30,
        "end": 42
    }
]
"</s>

[INST]{user_text}[/INST]
"""

cast away in s distant land, Munshi is in a very bad stage. His life is sick and lost his family as well
[
    {
        "original": "cast away",
        "suggested": "cast away",
        "start": 0,
        "end": 7
    },
    {
        "original": "in s distant land",
        "suggested": "in a distant land",
        "start": 8,
        "end": 21
    },
    {
        "original": "Munshi is in a very bad stage.",
        "suggested": "Munshi is at a very critical point.",
        "start": 23,
        "end": 49
    },
    {
        "original": "His life",
        "suggested": "His health",
        "start": 50,
        "end": 53
    },
    {
        "original": "is sick",
        "suggested": "has deteriorated",
        "start": 54,
        "end": 58
    },
    {
        "original": "and lost his family as well",
        "suggested": ", and he has also lost his family.",
        "start": 60,
        "end": 74
    }
]

RESULTS: Mismarch in start and end

UPDATED with new instructions suggested by copilot:

### Instruction:
You are a professional proofreader. 
Identify all errors in grammar, spelling, punctuation, formatting, and word choice in the following text. 
For each error, return a JSON object with these fields:
- "original": the exact substring from the text that needs correction,
- "suggested": your improved version,
- "start": the 0-based index in the text where the error starts (inclusive),
- "end": the 0-based index where the error ends (exclusive).

**Important:**
- Use Python-style 0-based indexing.
- Count every character, including spaces and punctuation.
- For each correction, ensure that `original == text[start:end]`.
- Do not overlap corrections.
- Do not include explanations or comments.
- Output ONLY a JSON array of correction objects.

### Example:
Text: She go to school everyday. He enjoy to play cricket.

Output:
[
  {{
    "original": "go",
    "suggested": "goes",
    "start": 4,
    "end": 6
  }},
  {{
    "original": "everyday",
    "suggested": "every day",
    "start": 17,
    "end": 25
  }},
  {{
    "original": "enjoy to play",
    "suggested": "enjoys playing",
    "start": 30,
    "end": 42
  }}
]

### Text:
{text}

### Response:
"""



